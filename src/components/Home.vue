<template>
  <div class="Home">
    <h1>{{ msg }}</h1>
    <h2>作者：{{ author }}</h2>
    <ul>
      <li><a href="http://localhost:8080/#/" target="_blank">Home</a></li>
      <li><a href="http://localhost:8080/#/ChinaMap" target="_blank">ChinaMap</a></li>
      <li><a href="http://localhost:8080/#/Order" target="_blank">Order</a></li>
      <li><a href="http://localhost:8080/#/Weibo" target="_blank">Weibo</a></li>
    </ul>
    <div style="margin: 0 auto; display: flex; flex-direction: row; justify-content: space-around;">
    <div id="main" style="width: 1200px; height: 400px;"></div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'Home',
  data () {
    return {
      msg: '这个界面是上下镜像对称的柱状图，展示每日新增和累计新增，死亡与重要政策发布节点',
      author: '李奕扬',
      // 累计治愈
      data1: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 103, 124, 171, 243, 328, 475, 632, 892, 1153, 1540, 2050, 2649, 3281, 3996, 4740, 5642, 6723, 8096, 9419, 10851, 12552, 14376, 16157, 18266, 20659, 22888, 24734, 27323, 29745, 32495, 36117, 39002, 41625, 44462, 47204, 49856, 52045, 53726, 55404, 57065, 58600, 60124, 61617, 62841, 64152, 65578, 66934, 67819, 68724, 69614, 70420, 71740, 71740, 72440, 72703, 73159, 73650, 74051, 74588, 74971, 75448, 75700, 76052, 76238, 76408, 76571, 76755, 76964, 77078, 77167, 77279, 77370, 77455, 77525, 77575, 77663, 77738, 77816, 77892, 77944, 77029, 77062, 77084, 77123, 77151, 77207, 77257, 77346, 77394, 77474, 77555, 77578, 77610, 77642, 77685, 77713, 77766, 77853, 77911, 77957, 77993, 78046, 78120, 78144, 78171, 78189, 78195, 78209, 78219, 78227, 78238, 78241, 78244, 78249, 78255, 78258, 78261, 78268, 78277, 78280, 78288, 78291, 78302, 78304, 78307, 78315, 78314, 78319, 78327, 78329, 78332, 78341, 78351, 78357, 78361, 78365, 78367, 78369, 78370, 78377, 78379, 78394, 78398, 78410, 78413, 78413, 78425, 78428, 78443, 78439, 78444, 78451],
      // 累计死亡
      data2: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, 100, 100, 100, 100, 213, 259, 304, 361, 425, 490, 563, 636, 722, 811, 908, 1016, 1113, 1259, 1380, 1523, 1665, 1770, 1868, 2004, 2118, 2236, 2345, 2442, 2592, 2663, 2715, 2744, 2788, 2835, 2870, 2912, 2943, 2981, 3012, 3042, 3070, 3097, 3119, 3136, 3158, 3169, 3177, 3189, 3199, 3213, 3226, 3237, 3245, 3255, 3255, 3261, 3270, 3277, 3281, 3287, 3292, 3295, 3300, 3304, 3305, 3312, 3318, 3322, 3326, 3329, 3331, 3331, 3333, 3335, 3336, 3339, 3339, 3341, 3341, 3342, 3342, 4632, 4632, 4632, 4632, 4632, 4632, 4632, 4632, 4632, 4632, 4633, 4633, 4633, 4633, 4633, 4633, 4633, 4633, 4633, 4633, 4633, 4633, 4633, 4633, 4633, 4633, 4633, 4633, 4633, 4633, 4633, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634, 4634],
      // 累计确诊
      data3:[48, 139, 139, 139, 544, 639, 901, 1377, 2076, 2857, 4630, 6095, 8149, 9092, 11791, 14380, 17205, 20438, 24324, 28018, 31161, 34546, 37198, 40171, 48315, 55220, 58761, 63851, 66492, 68500, 70548, 72436, 74185, 74576, 75891, 76288, 76741, 77150, 77658, 78064, 78497, 78824, 79251, 79824, 80026, 80151, 80270, 80409, 80552, 80651, 80695, 80735, 80761, 80790, 80796, 80817, 80824, 80851, 80880, 80881, 80894, 80928, 81008, 81008, 81054, 81093, 81171, 81218, 81285, 81340, 81394, 81439, 81470, 81518, 81554, 81589, 81620, 81639, 81669, 81708, 81740, 81802, 81865, 81907, 81953, 82052, 82160, 82249, 82295, 82341, 82692, 82719, 82735, 82747, 82758, 82788, 82798, 82804, 82816, 82827, 82830, 82836, 82858, 82862, 82874, 82875, 82877, 82880, 82881, 82883, 82885, 82886, 82887, 82901, 82918, 82919, 82926, 82929, 82933, 82941, 82947, 82954, 82960, 82965, 82967, 82971, 82971, 82974, 82985, 82992, 82993, 82995, 82995, 82999, 83001, 83017, 83021, 83021, 83022, 83027, 83030, 83036, 83040, 83043, 83046, 83057, 83064, 83075, 83132, 83181, 83221, 83265, 83293, 83325, 83352, 83378, 83396, 83418, 83430, 83449, 83462, 83483, 83500],
      // 累计确诊-累计治愈-累计死亡
      data4: [],
      originalDataCovid: [
        {name: '广东', value: [1213, 1317, 1330, 1344, 1359, 1374, 1379, 1382, 1395, 1399, 1405, 1412, 1421, 1432, 1441, 1453, 1465, 1478, 1485, 1502, 1504, 1506, 1509, 1509, 1510]},
        {name: '山西', value: [32, 120, 141, 157, 162, 173, 195, 214, 243, 266, 300, 308, 312, 330, 341, 362, 373, 382, 395, 406, 417, 423, 427, 440, 444]},
        {name: '北京', value: [22, 482, 558, 693, 774, 877, 990, 1116, 1212, 1363, 1464, 1586, 1682, 1796, 1829, 1927, 1997, 2094, 2188, 2236, 2290, 2332, 2380, 2428, 2467]},
        {name: '广西', value: [12, 14, 14, 15, 16, 16, 16, 16, 16, 17, 18, 18, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21]},
        {name: '湖南', value: [6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6]},
        {name: '四川', value: [4, 8, 8, 8, 8, 9, 10, 12, 12, 12, 12, 12, 12, 12, 13, 13, 13, 13, 13, 15, 15, 15, 15, 16, 17]},
        {name: '上海', value: [1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 4, 4, 6, 6, 6, 6, 7, 7, 7, 7, 7]},
        {name: '内蒙', value: [0, 30, 33, 36, 47, 70, 74, 76, 114, 121, 128, 155, 181, 191, 226, 232, 253, 260, 269, 289, 295, 295, 296, 296, 296]},
        {name: '河南', value: [0, 3, 6, 6, 8, 9, 10, 10, 11, 12, 12, 13, 14, 14, 14, 14, 14, 15, 15, 15, 15, 15, 15, 15, 15]},
        {name: '宁夏', value: [0, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6]},
        {name: '吉林', value: [0, 3, 7, 7, 7, 7, 7, 7, 7, 7, 7, 9, 14, 14, 18, 21, 23, 25, 26, 26, 26, 26, 27, 27, 30]},
        {name: '浙江', value: [0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4]},
        {name: '辽宁', value: [0, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3]},
        {name: '甘肃', value: [0, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 5, 5, 6, 6, 6, 7, 7, 8, 8, 8, 8]},
        {name: '陕西', value: [0, 1, 2, 2, 2, 2, 5, 5, 5, 8, 8, 8, 9, 9, 9, 10, 10, 10, 11, 12, 12, 12, 12, 12, 12]},
        {name: '天津', value: [0, 0, 5, 7, 8, 21, 22, 22, 43, 44, 49, 61, 73, 91, 100, 109, 120, 127, 132, 141, 149, 157, 163, 167, 171]},
        {name: '山东', value: [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]},
        {name: '湖北', value: [0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 11, 11, 12, 12, 12, 12, 14, 14, 14, 23, 23, 23, 23, 23, 23]},
        {name: '福建', value: [0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3]},
        {name: '河北', value: [0, 0, 0, 6, 6, 18, 21, 27, 30, 39, 39, 47, 61, 70, 89, 98, 104, 125, 138, 138, 139, 148, 159, 173, 176]},
        {name: '安徽', value: [0, 0, 0, 0, 1, 1, 1, 4, 4, 5, 7, 7, 9, 9, 9, 10, 10, 10, 10, 10, 11, 11, 11, 11, 11]},
        {name: '江苏', value: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 4, 4, 4, 4, 4, 4, 5, 5, 6, 7, 7, 7, 7]},
        {name: '重庆', value: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3]}
      ]
    }
  },
  mounted () {
    let _this = this
     _this.draw()
  },
  created () {
    for(let i=0;i<this.data1.length;i++){
        this.data4[i] = this.data3[i] - this.data2[i] - this.data1[i]
      }
  },
  methods: {
    draw () {
      this.option = {
          title: {
              textStyle: {
                color: '#000000',
                fontWeight: 'bolder',
                fontSize: 32
            },
              text: 'Daily Cases',
              left: 10,
              padding:10,
          },
          grid: {
            top:40,
            containLabel: false,
          },
          toolbox: {
              feature: {
                  dataZoom: {
                      yAxisIndex: false
                  },
                  saveAsImage: {
                      pixelRatio: 2
                  }
              }
          },
          tooltip: {
              trigger: 'axis',
              axisPointer: {
                  type: 'shadow'
              }
          },
          grid: {
              bottom: 90,
              top:100,
              containLabel:true,
          },
          dataZoom: [{
              type: 'inside'
          }, {
              type: 'slider'
          }],
          xAxis: {
              type: 'category',
              data: ['1/17', '1/18', '1/19', '1/20', '1/21', '1/22', '1/23', '1/24', '1/25', '1/26', '1/27', '1/28', '1/29', '1/30', '1/31', '2/1', '2/2', '2/3', '2/4', '2/5', '2/6', '2/7', '2/8', '2/9', '2/10', '2/11', '2/12', '2/13', '2/14', '2/15', '2/16', '2/17', '2/18', '2/19', '2/20', '2/21', '2/22', '2/23', '2/24', '2/25', '2/26', '2/27', '2/28', '2/29', '3/1', '3/2', '3/3', '3/4', '3/5', '3/6', '3/7', '3/8', '3/9', '3/10', '3/11', '3/12', '3/13', '3/14', '3/15', '3/16', '3/17', '3/18', '3/19', '3/20', '3/21', '3/22', '3/23', '3/24', '3/25', '3/26', '3/27', '3/28', '3/29', '3/30', '3/31', '4/1', '4/2', '4/3', '4/4', '4/5', '4/6', '4/7', '4/8', '4/9', '4/10', '4/11'],
              silent: false,
              splitLine: {
                  show: false
              },
              splitArea: {
                  show: false
              }
          },
          yAxis: [
            {
              name: '新增人数',
              type: 'value',
              position: 'right',
              min: 0,
              max: 9000,
              splitArea: {
                  show: false
              }
          },
          {
            name: '累计人数',
            type: 'value',
            position: 'left',
            min: 0,
            max: 83500,
            splitArea: {
                  show: false
              }
          }
          ],
          series: [
            {              
              name: '新增确诊',
              type: 'line',
              data: [4, 0, 0, 91, 0, 0, 405, 95, 262, 476, 699, 781, 1773, 1465, 2054, 1543, 2099, 2589, 2825, 3233, 3886, 3694, 3143, 3385, 2652, 2973, 8144, 6905, 3541, 5090, 2641, 2008, 2048, 1888, 1749, 391, 1315, 397, 453, 409, 508, 406, 433, 327, 427, 573, 202, 125, 119, 139, 143, 99, 44, 40, 26, 29, 6, 21, 7, 27, 29, 1, 13, 34, 80, 0, 46, 39, 78, 47, 67, 55, 54, 45, 31, 48, 36, 35, 31, 19, 30, 39, 32, 62, 63, 42, 46, 99, 108, 89, 46, 46, 351, 27, 16, 12, 11, 30, 10, 6, 12, 11, 3, 6, 22, 4, 12, 1, 2, 3, 1, 2, 2, 1, 1, 14, 17, 1, 7, 3, 4, 8, 6, 7, 6, 5, 2, 4, 0, 3, 11, 7, 1, 2, 0, 4, 2, 16, 4, 0, 1, 5, 3, 6, 4, 3, 3, 11, 7, 11, 57, 49, 40, 44, 28, 32, 27, 26, 18, 22, 12, 19, 13, 21, 17],
              yAxisIndex: 0,
              // Set `large` for large data amount
              large: true
          },
          {              
              name: '累计治愈',
              type: 'bar',
              yAxisIndex: 1,
              stack: 'total',
              barGap:'0%',
              barCategoryGap:'0%',
              data: this.data1,
              // data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 103, 124, 171, 243, 328, 475, 632, 892, 1153, 1540, 2050, 2649, 3281, 3996, 4740, 5642, 6723, 8096, 9419, 10851, 12552, 14376, 16157, 18266, 20659, 22888, 24734, 27323, 29745, 32495, 36117, 39002, 41625, 44462, 47204, 49856, 52045, 53726, 55404, 57065, 58600, 60124, 61617, 62841, 64152, 65578, 66934, 67819, 68724, 69614, 70420, 71740, 71740, 72440, 72703, 73159, 73650, 74051, 74588, 74971, 75448, 75700, 76052, 76238, 76408, 76571, 76755, 76964, 77078, 77167, 77279, 77370, 77455, 77525, 77575, 77663, 77738, 77816, 77892, 77944, 77029, 77062, 77084, 77123, 77151, 77207, 77257, 77346, 77394, 77474, 77555, 77578, 77610, 77642, 77685, 77713, 77766, 77853, 77911, 77957, 77993, 78046, 78120, 78144, 78171, 78189, 78195, 78209, 78219, 78227, 78238, 78241, 78244, 78249, 78255, 78258, 78261, 78268, 78277, 78280, 78288, 78291, 78302, 78304, 78307, 78315, 78314, 78319, 78327, 78329, 78332, 78341, 78351, 78357, 78361, 78365, 78367, 78369, 78370, 78377, 78379, 78394, 78398, 78410, 78413, 78413, 78425, 78428, 78443, 78439, 78444, 78451],
              // Set `large` for large data amount
              large: true
          },
          {
              name: '累计确诊',
              type: 'bar', 
              stack: 'total',
              yAxisIndex: 1,
              barGap:'0%',
              barCategoryGap:'0%',
              data: this.data4,
              // Set `large` for large data amount
              smooth: true,
              large: true,
              markPoint: {
                data: [
                    {name: '武汉封城', value: '武汉封城', xAxis: '1/23', yAxis: 6095}, 
                    {name: '火神山医院交付', value: '火神山医院交付', xAxis: '2/2', yAxis: 17205},
                    {name: '总死亡人数超过非典', value: '总死亡人数超过非典', xAxis: '2/8', yAxis: 37198},
                    {name: '雷神山医院交付使用', value: '雷神山医院交付使用', xAxis: '2/8', yAxis: 6095},
                    
                ]
            },
          },
          {              
              name: '累计死亡',
              type: 'bar',
              yAxisIndex: 1,
              stack: 'total',
              barGap:'0%',
              barCategoryGap:'0%',
              data: this.data2,
              // Set `large` for large data amount
              large: true
          },
          
          ]
      }
        this.chart = this.$echarts.init(document.getElementById('main'))
        this.chart.setOption(this.option)
    }
  }
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
h1, h2 {
  font-weight: normal;
}

ul {
  list-style-type: none;
  padding: 0;
}

li {
  display: inline-block;
  margin: 0 10px;
}

a {
  color: #42b983;
}
</style>
